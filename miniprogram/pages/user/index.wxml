<!--pages/user/index.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-header">
    <image class="avatar" src="{{userInfo.avatarUrl || '/assets/images/default-avatar.png'}}" mode="aspectFill"></image>
    <view class="user-info">
      <text class="nickname">{{userInfo.nickname || 'å¾®ä¿¡ç”¨æˆ·'}}</text>
      <text class="account-count">å·²ç»‘å®š {{accountCount}} ä¸ªièŒ…å°è´¦å·</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ•°æ® -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-value">{{stats.totalReserve}}</text>
      <text class="stat-label">ç´¯è®¡é¢„çº¦</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-value highlight">{{stats.winCount}}</text>
      <text class="stat-label">ä¸­ç­¾æ¬¡æ•°</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-value">{{stats.winRate}}</text>
      <text class="stat-label">ä¸­ç­¾ç‡</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-item" bindtap="goAccountList">
      <text class="menu-icon">ğŸ‘¤</text>
      <text class="menu-text">è´¦å·ç®¡ç†</text>
      <text class="menu-arrow">â€º</text>
    </view>

    <view class="menu-item" bindtap="goLogs">
      <text class="menu-icon">ğŸ“‹</text>
      <text class="menu-text">é¢„çº¦è®°å½•</text>
      <text class="menu-arrow">â€º</text>
    </view>

    <view class="menu-item" bindtap="subscribeMessage">
      <text class="menu-icon">ğŸ””</text>
      <text class="menu-text">æ¶ˆæ¯è®¢é˜…</text>
      <view class="menu-right">
        <text class="menu-tip">{{subscribed ? 'å·²è®¢é˜…' : 'æœªè®¢é˜…'}}</text>
        <text class="menu-arrow">â€º</text>
      </view>
    </view>
  </view>

  <view class="menu-section">
    <view class="menu-item" bindtap="showAbout">
      <text class="menu-icon">â„¹ï¸</text>
      <text class="menu-text">å…³äº</text>
      <text class="menu-arrow">â€º</text>
    </view>

    <view class="menu-item" bindtap="checkUpdate">
      <text class="menu-icon">ğŸ”„</text>
      <text class="menu-text">æ£€æŸ¥æ›´æ–°</text>
      <view class="menu-right">
        <text class="menu-tip">v{{version}}</text>
        <text class="menu-arrow">â€º</text>
      </view>
    </view>

    <button class="menu-item menu-btn" open-type="feedback">
      <text class="menu-icon">ğŸ’¬</text>
      <text class="menu-text">æ„è§åé¦ˆ</text>
      <text class="menu-arrow">â€º</text>
    </button>
  </view>

  <!-- å…è´£å£°æ˜ -->
  <view class="disclaimer">
    <text>æœ¬å°ç¨‹åºä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨</text>
    <text>ä½¿ç”¨æœ¬ç¨‹åºæ‰€äº§ç”Ÿçš„ä¸€åˆ‡åæœç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…</text>
  </view>
</view>
