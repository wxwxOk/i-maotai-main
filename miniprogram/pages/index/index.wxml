<!--pages/index/index.wxml-->
<view class="container">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <text class="title">ä»Šæ—¥é¢„çº¦çŠ¶æ€</text>
    <text class="date">{{today}}</text>
  </view>

  <!-- è´¦å·åˆ—è¡¨ -->
  <view class="account-list" wx:if="{{accounts.length > 0}}">
    <view class="account-card" wx:for="{{accounts}}" wx:key="id">
      <view class="account-header">
        <text class="mobile">{{item.mobileMask}}</text>
        <text class="status {{item.status === 'success' ? 'success' : item.status === 'pending' ? 'pending' : 'failed'}}">
          {{item.statusText}}
        </text>
      </view>

      <view class="item-list">
        <view class="item-row" wx:for="{{item.items}}" wx:for-item="product" wx:key="itemId">
          <image class="item-icon" src="{{product.pictureUrl}}" mode="aspectFill"></image>
          <text class="item-name">{{product.itemName}}</text>
          <view class="item-status">
            <text wx:if="{{product.status === 0}}" class="status-icon pending">â³</text>
            <text wx:elif="{{product.status === 1}}" class="status-icon success">âœ“</text>
            <text wx:elif="{{product.status === 2}}" class="status-icon failed">âœ—</text>
            <text wx:elif="{{product.status === 3}}" class="status-icon win">ğŸ‰</text>
            <text class="status-text">{{product.statusText}}</text>
          </view>
        </view>
      </view>

      <view class="account-footer">
        <text class="shop-name">{{item.shopName}}</text>
        <text class="reserve-time">{{item.reserveTime}}</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:else>
    <image class="empty-icon" src="/assets/images/empty.png"></image>
    <text class="empty-text">æš‚æ— è´¦å·ï¼Œè¯·å…ˆæ·»åŠ ièŒ…å°è´¦å·</text>
  </view>

  <!-- æ·»åŠ è´¦å·æŒ‰é’® -->
  <view class="add-btn" bindtap="goAddAccount">
    <text class="add-icon">+</text>
    <text class="add-text">æ·»åŠ è´¦å·</text>
  </view>
</view>
